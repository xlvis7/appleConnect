!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports.perf=t():e.perf=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/access/",n(n.s="LX6h")}({"+3v0":function(e,t,n){var r=n("4wVy"),i=n("i42N"),o=n("ZhhC"),a=n("6ubU"),s={SCOPE_STRATEGIES:{ALL:"all",MAIN_DOMAIN:"mainDomain"},setDelegate:function(e){return r.reflect.attachDelegate(this,e)},constrainedValue:function(e,t){var n=e?e.clientId:null;if(e&&t&&!r.reflect.isEmptyObject(t)&&!t.blacklisted){var a=s.storageKey(e,t),c=r.storage.objectFromStorage(i.localStorageObject(),a)||{};c.value=s.clientIdString(c,t),c.expirationTime=s.expirationTime(t.expirationPeriod),r.storage.saveObjectToStorage(i.localStorageObject(),a,c),n=c.value}return o.applyConstraintRules(n,t)},storageKey:function(e,t){return s.storageKeyPrefix()+"_"+s.scope(e,t)},storageKeyPrefix:function(){return"mtClientId"},scope:function(e,t){var n="";if(t&&(t.namespace&&(n+=t.namespace),t.scopeStrategy)){var r;switch(t.scopeStrategy){case s.SCOPE_STRATEGIES.MAIN_DOMAIN:var i=t.scopeFieldName;r=a.mainDomain(e[i])||"unknownDomain";break;case s.SCOPE_STRATEGIES.ALL:default:r=s.SCOPE_STRATEGIES.ALL}n.length&&(n+="_"),n+=r}return n},clientIdString:function(e,t){var n=e?e.value:null,r=n;return(!n||e.expirationTime<=Date.now())&&(r=s.generateId(t)),r},expirationTime:function(e){return e?Date.now()+e:null},generateId:function(e){var t=s.rawUUID(),n=null,i=null;return e&&(n=s.expirationTime(e.expirationPeriod),i=e.tokenSeparator),(s.generatedIdMetadata(n)+s.idTokenSeparator()+t||"").split(s.idTokenSeparator()).map(function(e){var t=parseInt(e,16);return r.string.convertNumberToBaseAlphabet(t,r.string.base61Alphabet)}).join(s.generatedIdSeparator(i))||"0"},generatedIdMetadata:function(e){var t=[s.generatedIdVersion()];return e&&t.push(e),t.map(function(e){return e.toString(16)}).join(s.idTokenSeparator())},rawUUID:function(){return r.string.uuid()},generatedIdVersion:function(){return 4},idTokenSeparator:function(){return"-"},generatedIdSeparator:function(e){return e||"z"}};e.exports=s},"+n2x":function(e,t,n){var r=n("4wVy"),i={};i.delegateExtension=n("iR0E"),i.eventFields=n("H2k/"),i.keyValue=r.keyValue,i.network=n("P9Uk"),i.reflect=n("jeOd"),i.string=n("oUqD"),e.exports=i},"2R+Q":function(e,t,n){var r={environment:n("NoNA"),eventRecorder:n("XzW2"),logger:n("DCCn")};e.exports=r},"4wVy":function(e,t,n){e.exports=n("evOs")},"58Wi":function(e,t,n){var r=n("4wVy"),i=n("5d5x"),o=n("jmHC"),a=n("R9rI"),s={blacklistedFields:["capacitySystem","capacitySystemAvailable","capacityDisk","capacityData","capacityDataAvailable"],compoundSeparator:"_",configBaseUrl:"https://xp.apple.com/config/1/report",constraints:{profiles:{strict:{precedenceOrderedRules:[{filters:"any",fieldConstraints:{clientId:{generateValue:!0,scopeFieldName:"parentPageUrl",scopeStrategy:"mainDomain",expirationPeriod:864e5},consumerId:{blacklisted:!0},dsId:{blacklisted:!0},parentPageUrl:{scope:"hostname"}}},{filters:{valueMatches:{eventType:["click"],actionType:["signUp"]}},fieldConstraints:{parentPageUrl:{scope:"fullWithoutParams"}}},{filters:{valueMatches:{eventType:["dialog"],dialogType:["upsell"],result:["upsell"]}},fieldConstraints:{parentPageUrl:{scope:"fullWithoutParams"}}},{filters:{valueMatches:{userType:["signedIn"]}},fieldConstraints:{clientId:{scopeStrategy:"all"}}},{filters:{valueMatches:{userType:["signedIn"],eventType:["click","dialog","media","search"]}},fieldConstraints:{clientId:{blacklisted:!0},consumerId:{blacklisted:!1},dsId:{blacklisted:!1}}},{filters:{valueMatches:{userType:["signedIn"],eventType:["page","impressions"]},nonEmptyFields:["pageHistory"]},fieldConstraints:{clientId:{blacklisted:!0},consumerId:{blacklisted:!1},dsId:{blacklisted:!1}}}]}}},fieldsMap:{cookies:["itcCt","itscc","xp_ab","xp_abc"],custom:{impressions:["id","adamId","link.type","station-hash"],location:["id","adamId","dataSetId","name","fcKind","kindIds","type","link.type","station-hash","core-seed-name"]},single:{targetId:["id","adamId","contentId","type","link.type","fcId","userPreference","label","station-hash","linkIdentifier"]}},metricsUrl:"https://xp.apple.com/report",postFrequency:6e4,postFrequencyLowLatency:5e3,tokenSeparator:"|"},c={},u=function(e){this._topic=e,this._debugSource=null,this._cachedSource=null,this._serviceSource=null,this._initialized=!1,this._showedDebugWarning=!1,this._showedNoProvidedSourceWarning=!1,this._keyPathsThatSuppressWarning={configBaseUrl:!0},this.DEBUG_SOURCE_KEY="mtClientConfig_debugSource"+s.compoundSeparator+this._topic,this.CACHED_SOURCE_KEY="mtClientConfig_cachedSource"+s.compoundSeparator+this._topic};u.createConfig=function(e,t,n,r){var i=c[e=e||"noTopicConfig"];return i||(i=new u(e),c[e]=i,"noTopicConfig"!==e&&i.initialize(t,n,r)),i},u.defaultConfig=function(){return u.createConfig()},u.value=function(e,t){var n=t&&c[t]||u.defaultConfig();return n.value.call(n,e)},u.environment=i,u.logger=o,u.network=a,u.prototype._defaults=function(){return s},u.prototype._setInitialized=function(e){this._initialized=e},u.prototype._setShowedDebugWarning=function(e){this._showedDebugWarning=e},u.prototype._setShowedNoProvidedSourceWarning=function(e){this._showedNoProvidedSourceWarning=e},u.prototype.setDelegate=function(e){return r.reflect.attachDelegate(this,e)},u.prototype.topic=function(){return this._topic},u.prototype.configUrl=function(){var e=this.value("configBaseUrl");return"noTopicConfig"!==this._topic?e+="/"+this.topic():u.logger.error("config.configUrl(): Topic must be provided"),e},u.prototype.sources=function(){},u.prototype.value=function(e){var t,n=this.cachedSource(),i=this.serviceSource(),o=this.sources(),a=this.debugSource(),c=n||i||o||a;return o||i||e in this._keyPathsThatSuppressWarning||this._showedNoProvidedSourceWarning||(this._showedNoProvidedSourceWarning=!0,u.logger.warn("Metrics config: No config provided via delegate or fetched via init(), using default/cached config values.")),a&&(this._showedDebugWarning||(this._showedDebugWarning=!0,u.logger.warn('"debugSource" found.\nThis will override any same-named client-supplied configSource fields.\nThis setting "sticks" across session, use "setDebugSource(null)" to clear'))),r.reflect.isArray(o)||(o=[o]),t=0===e.indexOf("blacklisted")?c?[n,i,o,a]:[s]:[s,n,i,o,a],r.keyValue.valueForKeyPath.apply(r.keyValue,[e].concat(t))},u.prototype.setDebugSource=function(e){return this._debugSource=e||null,r.storage.saveObjectToStorage(u.environment.localStorageObject(),this.DEBUG_SOURCE_KEY,this._debugSource)},u.prototype.debugSource=function(){return this._debugSource||(this._debugSource=r.storage.objectFromStorage(u.environment.localStorageObject(),this.DEBUG_SOURCE_KEY)),this._debugSource},u.prototype.setCachedSource=function(e){return this._cachedSource=e||null,r.storage.saveObjectToStorage(u.environment.localStorageObject(),this.CACHED_SOURCE_KEY,this._cachedSource)},u.prototype.cachedSource=function(){return this._cachedSource||(this._cachedSource=r.storage.objectFromStorage(u.environment.localStorageObject(),this.CACHED_SOURCE_KEY)),this._cachedSource},u.prototype.setServiceSource=function(e){return this._serviceSource=e,this._serviceSource},u.prototype.serviceSource=function(){return this._serviceSource},u.prototype.fetchConfig=function(e,t,n){n=n||function(){};r.backoff.exponentialBackoff(a.makeAjaxRequest.bind(a,e,"GET",null),function(e){var r;try{e=JSON.parse(e),r=!0}catch(i){n.call(n,i)}r&&t&&t.call(t,e)},n)},u.prototype.initialize=function(e,t,n){t=t||function(){};var r=function(){this._initialized=!0,t.call(t)}.bind(this);if(e)this.setDelegate({sources:e}),r();else{this.setCachedSource(this.cachedSource());var i=this.configUrl(),o=function(e){this.setCachedSource(e),this.setServiceSource(e),r()}.bind(this);this.fetchConfig(i,o,n)}},u.prototype.initialized=function(){return this._initialized},e.exports=u},"5d5x":function(e,t,n){var r=n("4wVy"),i={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},localStorageObject:r.storage.localStorageObject,sessionStorageObject:r.storage.sessionStorageObject};e.exports=i},"6gfD":function(e,t,n){var r=n("mHjg"),i={makeAjaxGetRequest:function(e,t,n){this.makeAjaxRequest(e,"GET",null,t,n)},makeAjaxRequest:function(e,t,n,i,o,a){var s=new XMLHttpRequest;n=n||void 0,a=a||{},i=r.isFunction(i)?i:function(){},o=r.isFunction(o)?o:function(){};var c=!1!==a.async;a.timeout&&c&&(s.timeout=a.timeout),s.onload=function(){s.status>=200&&s.status<300?i(s.response):o(new Error("XHR error: server responded with status "+s.status+" "+s.statusText),s.status)},s.onerror=function(){o(new Error("XHR error"))},s.open(t,e,c),s.withCredentials=!0,s.setRequestHeader("Content-type","application/json"),s.send(n)}};e.exports=i},"6ubU":function(e,t){var n={hostname:function(e){e=e||"";var t,r=n.withoutParams(e).split("/"),i="";return t=(i=-1===e.indexOf("//")?r[0]:r[2]).substring(i.indexOf("@")+1).split(":")[0],t},mainDomain:function(e){var t=n.hostname(e).split("."),r=t[t.length-1],i=t[t.length-2],o=2;return r&&2===r.length&&i&&(2===i.length||i in n.reservedCCSLDs())&&(o=3),t.slice(-1*o).join(".")},reservedCCSLDs:function(){return{com:!0,org:!0,net:!0,edu:!0,gov:!0}},withoutParams:function(e){return(e=e||"").split("?")[0]}};e.exports=n},"7nyt":function(e,t,n){var r=n("4wVy"),i=n("ndPs"),o=[],a={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n){return i.processMetricsData.apply(this,arguments)},knownFields:function(){return["clientCorrelationKey","eventType","eventVersion","extRefUrl","hostApp","refApp","refUrl","requestStartTime","responseStartTime","responseEndTime","pageHistory","pageLoadTime","pageRenderTime","searchFilters","searchTerm"]},clientCorrelationKey:function(e){return e&&e.clientCorrelationKey||r.string.weakUUID()},eventType:function(e){return"page"},eventVersion:function(e){return e&&e.eventVersion||1},pageHistory:function(e){var t;if((e=e||{}).pageHistory)t=e.pageHistory;else{t=o.slice(0);var n=e.page;n&&(o.length>=5&&o.shift(),o.push(n))}return t}};e.exports=a},"8Lub":function(e,t,n){var r=n("4wVy"),i={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},makeAjaxRequest:r.network.makeAjaxRequest};e.exports=i},"8d2A":function(e,t,n){var r=n("4wVy"),i=(n("zbEW"),n("BQ5U")),o=n("2R+Q"),a=function(){this._eventData={},this._sampledIn};a.prototype._resetSampling=function(){this._sampledIn=null},a.prototype.setDelegate=function(e){return r.reflect.attachDelegate(this,e)},a.prototype.mark=function(e,t){if(e){t=t||o.environment.currentTimestamp();var n={};n[e]=t,this.addData(n)}},a.prototype.initializeData=function(){var e=this.metricsData.apply(this,[!0].concat(Array.prototype.slice.call(arguments)));r.reflect.extend.apply(r.reflect,[this._eventData].concat(e)),this.sampledIn()},a.prototype.addData=function(){r.reflect.extend.apply(r.reflect,[this._eventData].concat(Array.prototype.slice.call(arguments)))},a.prototype.metricsData=function(e){return r.eventFields.mergeAndCleanEventFields(Array.prototype.slice.call(arguments,1))},a.prototype.toJSON=function(){return this.metricsData.call(this,!1,this._eventData)||{}},a.prototype.recordEvent=function(){var e=null,t=this.toJSON();if(t.eventType&&this.sampledIn()){var n=i.topic();e=o.eventRecorder.recordEvent(n,t)}return e},a.prototype.forceSampling=function(){this.addData({xpSamplingForced:!0}),this._resetSampling()},a.prototype.sampledIn=function(){if("boolean"!==typeof this._sampledIn){var e=this.toJSON();e.eventType&&(this._sampledIn=r.sampling.isSampledIn(e.eventType,e.xpSamplingForced,e.xpSamplingPercentageUsers,e.xpSessionDuration,e.xpSamplingPercentage))}return this._sampledIn},a.prototype.setClientCorrelationKey=function(e){this.addData({clientCorrelationKey:e})},e.exports=a},"9Fse":function(e,t,n){var r=n("4wVy"),i=n("ndPs"),o={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n){return i.processMetricsData.apply(this,arguments)},knownFields:function(){return["eventType","id","idType","type","typeDetails","actionType","actionDetails","url","duration","position"]},eventType:function(e){return"media"},eventVersion:function(e){return e&&e.eventVersion||1}};e.exports=o},"9vPY":function(e,t,n){e.exports=n("kPjG")},"9ycs":function(e,t,n){var r=n("9vPY").loggerNamed("mt-event-queue");e.exports=r},"9zQx":function(e,t,n){var r=n("bnss").loggerNamed("mt-metricskit");e.exports=r},ALdr:function(e,t,n){var r=n("4wVy"),i=n("ZhhC"),o=n("6ubU"),a={SCOPES:{HOSTNAME:"hostname",FULL:"full",FULL_WITHOUT_PARAMS:"fullWithoutParams"},setDelegate:function(e){return r.reflect.attachDelegate(this,e)},constrainedValue:function(e,t){var n=e&&e.parentPageUrl?e.parentPageUrl:null,r=n;if(n&&t&&t.scope)switch(t.scope){case a.SCOPES.HOSTNAME:r=o.hostname(n);break;case a.SCOPES.FULL_WITHOUT_PARAMS:r=o.withoutParams(n);break;case a.SCOPES.FULL:}return i.applyConstraintRules(r,t)}};e.exports=a},Ac8G:function(e,t,n){var r=n("4wVy"),i=(n("+n2x"),n("ndPs")),o={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e){var t=[void 0,void 0,void 0];t.push({eventType:e});var n=Array.prototype.slice.call(arguments,1);return t=t.concat(n),i.processMetricsData.apply(this,t)},knownFields:function(){return["eventTime","eventType"]},mtIncludeBaseFields:function(){return!1},eventTime:function(e){return e&&e.eventTime||Date.now()},eventType:function(e){return e&&e.eventType||void 0}};e.exports=o},BQ5U:function(e,t,n){var r,i=n("zbEW"),o=n("4wVy");o.reflect.attachMethods(i,o.config,i);var a={topic:function(){return r},setTopic:function(e){r=e}};e.exports=a},BySu:function(e,t,n){var r,i=n("zbEW"),o=n("4wVy"),a=n("UyP6"),s=n("2R+Q"),c=n("BQ5U"),u=n("yLnC"),p=function(){o.reflect.attachMethods(l.config,o.config,l.config)},l={_utSetInitCalled:function(e){r=e},system:s,config:i.defaultConfig(),eventHandlers:u,utils:a,init:function(e,t,n,a,f){r||(r=!0,n&&(o.reflect.setDelegates(u,n),o.reflect.setDelegates(s,n)),c.setTopic(e),l.config=i.createConfig(e,t,a,f),p())}};p(),e.exports=l},C21T:function(e,t,n){var r=n("4wVy"),i=n("zbEW"),o=n("9ycs"),a=n("8Lub"),s={DEFAULT_REQUEST_TIMEOUT:1e4,EVENTS_KEY:"events",EVENT_DELIVERY_VERSION:"1.0",EVENT_SEND_METHOD:{AJAX:"ajax",AJAX_SYNCHRONOUS:"ajaxSynchronous",IMAGE:"image"},MAX_PERSISTENT_QUEUE_SIZE:100,RETRY_EXPONENT_BASE:2,URL_DELIVERY_VERSION:2,eventQueues:{},enqueueEvent:function(e,t){var n=null;if(e&&t){s.eventQueues=s.eventQueues||{},s.eventQueues[e]=s.eventQueues[e]||{},s.eventQueues[e][s.EVENTS_KEY]=s.eventQueues[e][s.EVENTS_KEY]||[],s.eventQueues[e][s.EVENTS_KEY].push(t),n=t;var r=i.value("maxPersistentQueueSize",e)||s.MAX_PERSISTENT_QUEUE_SIZE;s.trimEventQueues(s.eventQueues,r)}return n},trimEventQueues:function(e,t){var n=Object.keys(e);n.length&&n.forEach(function(n){var r=e[n][s.EVENTS_KEY];r&&r.length&&r.length>t&&(o.warn("eventQueue overflow, deleting LRU events: size is: "+r.length+" which is over max size: "+t),e[n][s.EVENTS_KEY]=r.slice(-t))})},resetTopicQueue:function(e){s.eventQueues[e]&&(s.eventQueues[e][s.EVENTS_KEY]=null)},resetTopicRetryAttempts:function(e){s.eventQueues[e]&&(s.eventQueues[e].retryAttempts=0)},scheduleNextTopicRetryAttempt:function(e){if(s.eventQueues[e]){s.eventQueues[e].retryAttempts=s.eventQueues[e].retryAttempts||0,s.eventQueues[e].retryAttempts++;var t=Math.pow(s.RETRY_EXPONENT_BASE,s.eventQueues[e].retryAttempts)*i.value("postFrequency",e);s.resetTopicPostInterval(e),s.setTopicPostInterval(e,t)}},sendEvents:function(e,t){for(var n in s.eventQueues)s.sendEventsForTopic(n,e,t)},sendEventsForTopic:function(e,t,n){var o=s.eventQueues[e],a=i.value("testExponentialBackoff",e),c=i.value("metricsUrl",e),u=r.config.disabled.call(i);if(o&&c&&!u&&!a&&(!o.retryAttempts||!n))switch(s.resetTopicPostInterval(e),s.setTopicPostInterval(e,i.value("postFrequency",e)),t){case s.EVENT_SEND_METHOD.IMAGE:s.sendEventsViaImage(e);break;case s.EVENT_SEND_METHOD.AJAX_SYNCHRONOUS:s.sendEventsViaAjax(e,!1);break;case s.EVENT_SEND_METHOD.AJAX:default:s.sendEventsViaAjax(e,!0)}a&&s.scheduleNextTopicRetryAttempt(e)},sendEventsViaImage:function(e){if(s.eventQueues[e]){var t=s.metricsUrlForTopic(e),n=-1==t.indexOf("?")?"?":"&",r=t+n+"responseType=image",i=s.eventQueues[e][s.EVENTS_KEY];i&&i.length&&i.forEach(function(e){var t=s.createQueryParams(e);if(t){var n=r+"&"+t;(new Image).src=n}}),s.resetTopicQueue(e)}},createQueryParams:function(e){var t,n,i="";return Object.keys(e).forEach(function(o,a,s){t=e[o],n=r.reflect.isString(t)?t:JSON.stringify(t),i+=o+"="+encodeURIComponent(n),a<s.length-1&&(i+="&")}),i.length?i:null},sendEventsViaAjax:function(e,t){if(s.eventQueues[e]&&s.eventQueues[e][s.EVENTS_KEY]){var n=s.enrichAndSerializeEvents(s.eventQueues[e][s.EVENTS_KEY]);if(n){var r=s.metricsUrlForTopic(e),o=function(){s.resetTopicQueue(e),s.resetTopicRetryAttempts(e)},c=i.value("requestTimeout",e)||s.DEFAULT_REQUEST_TIMEOUT;c=Math.min(c,i.value("postFrequency",e)),a.makeAjaxRequest(r,"POST",n,o,function(t,n){n>=400&&n<500?o():s.scheduleNextTopicRetryAttempt(e)},{async:t,timeout:c})}}},enrichAndSerializeEvents:function(e){var t=null;if(e&&e.length){var n={};n.deliveryVersion=s.EVENT_DELIVERY_VERSION,n.postTime=Date.now(),n[s.EVENTS_KEY]=e;try{t=JSON.stringify(n)}catch(r){o.error("Error stringifying events as JSON: "+r)}}return t},metricsUrlForTopic:function(e){return i.value("metricsUrl",e)+"/"+s.URL_DELIVERY_VERSION+"/"+e},setTopicPostInterval:function(e,t){s.eventQueues[e]&&t&&(s.eventQueues[e].postIntervalToken=setInterval(function(){o.debug("MetricsKit: triggering postIntervalTimer for "+e+" at "+(new Date).toString()),s.sendEventsForTopic.call(s,e)},t))},resetTopicPostInterval:function(e){s.eventQueues[e]&&(clearInterval(s.eventQueues[e].postIntervalToken),s.eventQueues[e].postIntervalToken=null)}},c={_utQueue:function(){return s},recordEvent:function(e,t,n){r.config.disabled.call(i)||(0===i.value("postFrequency",e)&&(n=!0),s.enqueueEvent(e,t),n?s.sendEvents(s.EVENT_SEND_METHOD.AJAX,!0):s.eventQueues[e].postIntervalToken||s.setTopicPostInterval(e,i.value("postFrequency",e)))},flushUnreportedEvents:function(e){e?!function(){var e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)&&-1==e.indexOf("IEMobile")}()?s.sendEvents(s.EVENT_SEND_METHOD.IMAGE,!0):s.sendEvents(s.EVENT_SEND_METHOD.AJAX_SYNCHRONOUS,!0):s.sendEvents(s.EVENT_SEND_METHOD.AJAX,!0)}};e.exports=c},CGlq:function(e,t,n){var r=n("iR0E"),i=n("zbEW"),o={};for(var a in o.configSources=i.defaultConfig(),o.environment=n("OkBR"),o.eventRecorder=n("x4bH"),o.logger=n("9zQx"),o)r.attachDelegateInfo(o[a]);e.exports=o},D0nh:function(e,t,n){var r=n("4wVy"),i=n("zbEW"),o=n("C21T"),a={_utResetQueue:function(){for(var e in o._utQueue().eventQueues)o._utQueue().resetTopicPostInterval(e);o._utQueue().eventQueues={}},setDelegate:function(e){return r.reflect.attachDelegate(this,e)},recordEvent:function(e,t,n){var a=null;return t&&!r.config.metricsDisabledOrBlacklistedEvent.call(i,t.eventType,e)&&(r.config.removeBlacklistedFields.call(i,t,e),o.recordEvent(e,t,n),a=t),a},flushUnreportedEvents:function(e){o.flushUnreportedEvents(e)},sendMethod:function(){return"javascript"}};e.exports=a},DCCn:function(e,t,n){var r=n("bnss").loggerNamed("mt-perfkit");e.exports=r},DCwR:function(e,t,n){var r=n("4wVy"),i=n("8d2A"),o=function(){i.apply(this,arguments)};(o.prototype=new i).constructor=o,r.reflect.extend(o.prototype,{FETCH_START:"fetchStartTime",DOMAIN_LOOKUP_START:"domainLookupStartTime",DOMAIN_LOOKUP_END:"domainLookupEndTime",CONNECTION_START:"connectionStartTime",CONNECTION_END:"connectionEndTime",SECURE_CONNECTION_START:"secureConnectionStartTime",REQUEST_START:"requestStartTime",RESPONSE_START:"responseStartTime",RESPONSE_END:"responseEndTime"}),o.prototype.markFetchStart=function(e){this.mark(this.FETCH_START,e)},o.prototype.markDomainLookupStart=function(e){this.mark(this.DOMAIN_LOOKUP_START,e)},o.prototype.markDomainLookupEnd=function(e){this.mark(this.DOMAIN_LOOKUP_END,e)},o.prototype.markConnectionStart=function(e){this.mark(this.CONNECTION_START,e)},o.prototype.markConnectionEnd=function(e){this.mark(this.CONNECTION_END,e)},o.prototype.markSecureConnectionStart=function(e){this.mark(this.SECURE_CONNECTION_START,e)},o.prototype.markRequestStart=function(e){this.mark(this.REQUEST_START,e)},o.prototype.markResponseStart=function(e){this.mark(this.RESPONSE_START,e)},o.prototype.markResponseEnd=function(e){this.mark(this.RESPONSE_END,e)},o.prototype.setRequestUrl=function(e){this.addData({requestUrl:e})},o.prototype.setConnectionReused=function(e){this.addData({connectionReused:e})},o.prototype.setDNSServersIPAddresses=function(e){this.addData({dnsServersIPAddresses:e})},o.prototype.setEdgeNodeCacheStatus=function(e){this.addData({edgeNodeCacheStatus:e})},o.prototype.setRedirectCount=function(e){this.addData({redirectCount:e})},o.prototype.setResolvedIPAddress=function(e){this.addData({resolvedIPAddress:e})},o.prototype.setStatusCode=function(e){this.addData({statusCode:e})},e.exports=o},DS2b:function(e,t,n){var r={Environment:n("SfiK")};e.exports=r},"Fw/V":function(e,t,n){var r={environment:n("i42N")};e.exports=r},"H2k/":function(e,t,n){var r=n("4wVy"),i=n("zbEW"),o=n("vOnR"),a=n("9zQx"),s={getIdType:function(e){var t=e.indexOf("."),n=i.value("compoundSeparator",o.topic());return(-1!==t?e.substring(0,t):"its")+n+"id"},processMetricsData:function(e,t,n,i,o,a){var s=[{pageId:n,pageType:i,pageContext:o}];return r.reflect.isArray(a)&&(s=s.concat(a)),r.eventFields.processMetricsData(e,t,!0,s)},applyFieldsMap:function(e,t){var n,s,c,u;if(e&&t)if(c={},n=i.value("fieldsMap",o.topic())||{},s=r.keyValue.valueForKeyPath(t,n,n.custom))if(Array.isArray(s))for(u=0;u<s.length;++u)e[s[u]]&&(c[s[u]]=e[s[u]]);else if("object"===typeof s)for(var p in s)for(u=0;u<s[p].length;++u){var l=r.keyValue.valueForKeyPath(s[p][u],e);if(l){c[p]=l;break}}else a.error("mt-metricskit: incorrect data type provided to applyFieldsMap (only accepts objects and Arrays)");else a.error("mt-metricskit: unable to get fieldsMap from config-source");else e||a.error("mt-metricskit: No data provided to applyFieldsMap"),t||a.error("mt-metricskit: No sectionName provided to applyFieldsMap");return c},flattenImpressions:function(e,t){var n,s,c,u,p=[],l=t||1;if(e){e=function(e){var t,n={},r=[];if(e&&e[0]&&void 0!==e[0].index)for(var i=0;i<e.length;++i)n[t=e[i].index]||(n[t]=!0,r.push(e[i]));return r}(e);for(var f=0;f<e.length;f++){if("string"===typeof(n=e[f]).data)try{s=JSON.parse(n.data)}catch(d){u=decodeURIComponent(n.data);try{s=JSON.parse(u)}catch(h){a.error("mt-metricskit: non-JSON serialized data found on impression object. Cannot parse.",d)}}else s=n;s&&(s.impressionTimes=n.timestamps,s.impressionIndex=n.index,s.id&&!s.idType&&("genre"===n.kind?s.idType="label"+i.value("compoundSeparator",o.topic())+"id":s.idType=this.getIdType(s.id.toString())),n.parent&&void 0!==n.parent.impressionId&&(s.impressionParentId=n.parent.impressionId),s.impressionId=l,n.impressionId=l,++l,p.push(s),r.keyValue.valueForKeyPath("children.length",n)>0&&(c=this.flattenImpressions(n.children,l),p=p.concat(c),l+=c.length))}}else a.warn("Fuse-Metrics: No impressions provided to to flattenImpressions");return p},buildLocationStructure:function(e){for(var t,n,r,i,o,a=e,s=[];a;){if(n={},o=0,t=a.parentNode,a.hasAttribute&&a.hasAttribute("data-metrics-location")&&(n=JSON.parse(a.getAttribute("data-metrics-location"))).locationType){if(t){r=t.childNodes;for(var c=0;c<r.length;c++)if((i="function"===typeof r.item&&r.item(c)||r[c]).hasAttribute&&i.hasAttribute("data-metrics-location")?JSON.parse(i.getAttribute("data-metrics-location")).locationType:void 0){if(i===a)break;o++}}n.locationPosition=o,s.push(n)}a=t}return s}};e.exports=s},HbUU:function(e,t,n){var r=n("4wVy"),i=n("ndPs"),o={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n){return i.processMetricsData.apply(this,arguments)},knownFields:function(){return["destinationUrl","eventType","eventVersion","type"]},eventType:function(e){return"exit"},eventVersion:function(e){return e&&e.eventVersion||1}};e.exports=o},I1tU:function(e,t,n){var r=n("4wVy"),i=n("8d2A"),o=function(){i.apply(this,arguments)};(o.prototype=new i).constructor=o,r.reflect.extend(o.prototype,{PAGE_REQUEST:"pageRequestTime",INTERSTITIAL_PAGE_APPEAR:"interstitialPageAppearTime",PAGE_APPEAR:"pageAppearTime",PAGE_USER_INTERACTIVE:"pageUserInteractiveTime",PAGE_END:"pageEndTime",PAGE_INTERRUPT:"pageInterruptTime",PRIMARY_DATA_REQUEST_START:"primaryDataRequestStartTime",PRIMARY_DATA_RESPONSE_START:"primaryDataResponseStartTime",PRIMARY_DATA_RESPONSE_END:"primaryDataResponseEndTime",PRIMARY_DATA_PARSE_START:"primaryDataParseStartTime",PRIMARY_DATA_PARSE_END:"primaryDataParseEndTime",MODEL_CONSTRUCTION_START:"modelConstructionStartTime",MODEL_CONSTRUCTION_END:"modelConstructionEndTime",MODEL_RENDER_START:"modelRenderStartTime",MODEL_RENDER_END:"modelRenderEndTime",RESOURCE_REQUEST_START:"resourceRequestStartTime",ON_SCREEN_RESOURCES_APPEAR_END:"onScreenResourcesAppearEndTime",RESOURCE_REQUEST_END:"resourceRequestEndTime"}),o.prototype.PRELOAD_STATUS={},r.reflect.extend(o.prototype.PRELOAD_STATUS,{FULL:"full",VISIBLE:"visible",PARTIAL:"partial",PREVIOUSLY_SHOWN:"previouslyShown"}),o.prototype.markPageRequest=function(e){this.mark(this.PAGE_REQUEST,e)},o.prototype.markInterstitialPageAppear=function(e){this.mark(this.INTERSTITIAL_PAGE_APPEAR,e)},o.prototype.markPageAppear=function(e){this.mark(this.PAGE_APPEAR,e)},o.prototype.markPageUserInteractive=function(e){this.mark(this.PAGE_USER_INTERACTIVE,e)},o.prototype.markPageEnd=function(e){this.mark(this.PAGE_END,e)},o.prototype.markPageInterrupt=function(e){this.mark(this.PAGE_INTERRUPT,e)},o.prototype.markPrimaryDataRequestStart=function(e){this.mark(this.PRIMARY_DATA_REQUEST_START,e)},o.prototype.markPrimaryDataResponseStart=function(e){this.mark(this.PRIMARY_DATA_RESPONSE_START,e)},o.prototype.markPrimaryDataResponseEnd=function(e){this.mark(this.PRIMARY_DATA_RESPONSE_END,e)},o.prototype.markPrimaryDataParseStart=function(e){this.mark(this.PRIMARY_DATA_PARSE_START,e)},o.prototype.markPrimaryDataParseEnd=function(e){this.mark(this.PRIMARY_DATA_PARSE_END,e)},o.prototype.markModelConstructionStart=function(e){this.mark(this.MODEL_CONSTRUCTION_START,e)},o.prototype.markModelConstructionEnd=function(e){this.mark(this.MODEL_CONSTRUCTION_END,e)},o.prototype.markModelRenderStart=function(e){this.mark(this.MODEL_RENDER_START,e)},o.prototype.markModelRenderEnd=function(e){this.mark(this.MODEL_RENDER_END,e)},o.prototype.markResourceRequestStart=function(e){this.mark(this.RESOURCE_REQUEST_START,e)},o.prototype.markOnScreenResourcesAppearEnd=function(e){this.mark(this.ON_SCREEN_RESOURCES_APPEAR_END,e)},o.prototype.markResourceRequestEnd=function(e){this.mark(this.RESOURCE_REQUEST_END,e)},o.prototype.setIsAppLaunch=function(e){this.addData({isAppLaunch:e})},o.prototype.setIsPrimaryDataResponseCached=function(e){this.addData({isPrimaryDataResponseCached:e})},o.prototype.setPreloadStatus=function(e){this.addData({preloadStatus:e})},o.prototype.setLaunchCorrelationKey=function(e){this.addData({launchCorrelationKey:e})},e.exports=o},J7Ey:function(e,t,n){var r=n("4wVy"),i=n("zbEW"),o=n("R5a8").eventHandlers.Base,a=(n("UyP6"),n("2R+Q")),s=n("BQ5U"),c=function(){o.apply(this,arguments)};(c.prototype=new o).constructor=c,c.prototype.environment=function(){return a.environment},c.prototype.eventRecorder=function(){return a.eventRecorder},c.prototype.knownFields=function(){return Object.getPrototypeOf(c.prototype).knownFields().concat(["xpSamplingForced"])},c.prototype.xpSamplingForced=function(e){return e&&e.xpSamplingForced||i.value("performance.samplingForced",this.topic())};var u=new c(function(){return s.topic()});u.metricsData=function(e){return u.processMetricsData.apply(u,[null].concat(Array.prototype.slice.call(arguments)))},u.processMetricsData=function(e,t){var n=null;if(!i.metricsDisabledOrBlacklistedEvent(e,s.topic())){var o=Array.prototype.slice.call(arguments,2);if(this!==u)o=[u.metricsData.apply(u,[t].concat(o))].concat(o);n=r.eventFields.processMetricsData(this,this.knownFields(),t,o)}return i.removeBlacklistedFields(n,s.topic()),n},e.exports=u},JSPq:function(e,t,n){var r={eventRecorder:n("D0nh"),logger:n("9ycs"),network:n("8Lub")};e.exports=r},LX6h:function(e,t,n){var r=n("tQs+"),i=n("vsct");e.exports={perfkit:r,delegate:i}},NPBC:function(e,t,n){var r=n("4wVy"),i=n("zbEW"),o=n("BQ5U"),a=n("J7Ey"),s=n("UyP6"),c=n("cJPm").LoadUrl,u={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},instance:function(){var e=new c;return e.setDelegate({metricsData:this.metricsData}),e.initializeData.apply(e,arguments),e},fromTimingEntry:function(e){var t=s.eventFields.fromTimingEntry(e,"loadUrl.timestampFields","loadUrl.otherFields");return u.instance(t)},metricsData:function(e){return a.processMetricsData.apply(u,[u.eventType()].concat(Array.prototype.slice.call(arguments)))},knownFields:function(){return["eventTime","eventType","eventVersion","fetchStartTime","domainLookupStartTime","domainLookupEndTime","connectionStartTime","connectionEndTime","secureConnectionStartTime","requestStartTime","responseStartTime","responseEndTime","requestUrl","connectionReused","connectionStartNStatRXBytes","connectionStopNStatRXBytes","connectionStartNStatTXBytes","connectionStopNStatTXBytes","dnsServersIPAddresses","edgeNodeCacheStatus","redirectCount","resolvedIPAddress","statusCode","xpSessionDuration","xpSamplingPercentageUsers"]},eventType:function(e){return"loadUrl"},eventVersion:function(e){return 1},xpSessionDuration:function(e){return e&&e.xpSessionDuration||i.value("performance.sessionDuration",o.topic())},xpSamplingPercentageUsers:function(e){return e&&e.xpSamplingPercentageUsers||i.value("performance.samplingPercentageUsers",o.topic())}};e.exports=u},NPkp:function(e,t,n){var r=n("4wVy"),i=n("zbEW"),o=n("BQ5U"),a=n("NoNA"),s=n("DCCn"),c={fromTimingEntry:function(e,t,n){var a=i.value("fieldsMap",o.topic()),s=r.eventFields.applyFieldsMap(e,t,a),c=this.applyTimeOffset(s),u=r.reflect.copyKeysAndValues(!1,!1,!1,e),p={};return n&&(p=r.eventFields.applyFieldsMap(e,n,a)),r.reflect.extend(c,p,{rawData:u})},applyTimeOffset:function(e){var t=a.timeOriginOffset();if(r.reflect.isNumber(t))for(var n in e)r.reflect.isNumber(e[n])?e[n]=Math.floor(e[n]+t):s.warn("mt-perfkit: unable to apply time offset to non-number field "+n);else s.warn("mt-perfkit: unable to apply time offsets: environment.timeOriginOffset() returned a non-number value");return e}};e.exports=c},NoNA:function(e,t,n){var r=n("R5a8").system.Environment,i=function(){r.apply(this,arguments)};(i.prototype=new r).constructor=i;var o=new i;i.prototype.currentTimestamp=function(){return Date.now()},i.prototype.timeOriginOffset=function(){},e.exports=o},OkBR:function(e,t,n){n("9zQx");var r=n("4wVy"),i=["The function metrics.system.environment.","placeholder","() must be overridden with a platform-specific delegate function. If you have no data for this field, have your delegate return null or undefined (no 'return')"],o={setDelegate:function(e){return r.cookies.setDelegate(e),r.reflect.attachDelegate(this,e)},app:function(){throw i[1]=r.reflect.functionName(),i.join("")},appVersion:function(){throw i[1]=r.reflect.functionName(),i.join("")},capacityData:function(){throw i[1]=r.reflect.functionName(),i.join("")},capacityDataAvailable:function(){throw i[1]=r.reflect.functionName(),i.join("")},capacityDisk:function(){throw i[1]=r.reflect.functionName(),i.join("")},capacitySystem:function(){throw i[1]=r.reflect.functionName(),i.join("")},capacitySystemAvailable:function(){throw i[1]=r.reflect.functionName(),i.join("")},connectionType:function(){throw i[1]=r.reflect.functionName(),i.join("")},cookieOwnerObject:function(){throw i[1]=r.reflect.functionName(),i.join("")},dsId:function(){throw i[1]=r.reflect.functionName(),i.join("")},environmentBuild:function(){},environmentDataCenter:function(){},environmentInstance:function(){},hardwareFamily:function(){},hardwareModel:function(){},hostApp:function(){throw i[1]=r.reflect.functionName(),i.join("")},hostAppVersion:function(){},os:function(){},osBuildNumber:function(){},osLanguages:function(){},osVersion:function(){throw i[1]=r.reflect.functionName(),i.join("")},pageUrl:function(){throw i[1]=r.reflect.functionName(),i.join("")},parentPageUrl:function(){},pixelRatio:function(){throw i[1]=r.reflect.functionName(),i.join("")},resourceRevNum:function(){throw i[1]=r.reflect.functionName(),i.join("")},screenHeight:function(){throw i[1]=r.reflect.functionName(),i.join("")},screenWidth:function(){throw i[1]=r.reflect.functionName(),i.join("")},storeFrontHeader:function(){throw i[1]=r.reflect.functionName(),i.join("")},userAgent:function(){throw i[1]=r.reflect.functionName(),i.join("")},userType:function(){throw i[1]=r.reflect.functionName(),i.join("")},windowInnerHeight:function(){throw i[1]=r.reflect.functionName(),i.join("")},windowInnerWidth:function(){throw i[1]=r.reflect.functionName(),i.join("")},windowOuterHeight:function(){throw i[1]=r.reflect.functionName(),i.join("")},windowOuterWidth:function(){throw i[1]=r.reflect.functionName(),i.join("")},localStorageObject:r.storage.localStorageObject,sessionStorageObject:r.storage.sessionStorageObject};e.exports=o},P9Uk:function(e,t,n){var r=n("4wVy"),i={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},makeAjaxRequest:r.network.makeAjaxRequest};e.exports=i},PZSh:function(e,t,n){var r=n("pkkS").eventFields,i={constraintProfile:function(e){var t;return this.createConfig&&(t=this.createConfig(e)),t&&t.constraintProfile?t.constraintProfile(e):this.value("constraints.defaultProfile",e)},constraintsForEvent:function(e,t){var n="constraints.profiles."+this.constraintProfile(t),i=this.value(n),o=null;return i&&i.precedenceOrderedRules&&(o=i.precedenceOrderedRules.reduce(function(t,n){return r.eventMatchesRule(e,n)&&(t=r.updateRules(t,n)),t},{})),o}};e.exports=i},PubQ:function(e,t,n){var r=n("lI+O"),i=n("mHjg"),o={EXPIRE_NOW:-1,EXPIRE_SESSION:null,EXPIRE_ONE_SECOND:1,EXPIRE_ONE_MINUTE:60*this.EXPIRE_ONE_SECOND,EXPIRE_ONE_HOUR:60*this.EXPIRE_ONE_MINUTE,EXPIRE_ONE_DAY:24*this.EXPIRE_ONE_HOUR,EXPIRE_ONE_WEEK:7*this.EXPIRE_ONE_DAY,EXPIRE_ONE_MONTH:31*this.EXPIRE_ONE_DAY,EXPIRE_ONE_YEAR:365*this.EXPIRE_ONE_DAY,EXPIRE_ONE_SIDEREAL_YEAR:365.25*this.EXPIRE_ONE_DAY,EXPIRE_SIX_MONTHS:180*this.EXPIRE_ONE_DAY,setDelegate:function(e){return i.attachDelegate(this,e)},cookie:function(){var e;return"undefined"!=typeof window&&"iTunes"in window&&"cookie"in iTunes?e=iTunes:"undefined"!=typeof itms&&"undefined"!=typeof itms.cookie?e=itms:"undefined"!=typeof document&&(e=document),e?e.cookie:void 0},cookieOwnerObject:function(){if("undefined"!=typeof window&&"iTunes"in window&&"cookie"in iTunes)return iTunes;if("undefined"!=typeof itms&&"undefined"!=typeof itms.cookie)return itms;if("undefined"!=typeof document)return document;throw"cookies.cookieOwnerObject: No owning object"},get:function(e){var t=this.getUnescaped(e);return t&&(t=unescape(t)),t},getUnescaped:function(e){var t=null,n=this._getRaw();if(n&&e)for(var i=n.split(";"),o=i.length-1;!t&&o>=0;o--){var a=i[o],s=a.indexOf("=");if(s>0)if(s+1==a.length)t="";else r.trim(a.substring(0,s))==e&&(t=r.trim(a.substring(s+1)))}return t},remove:function(e,t){return this.setUnescaped(e,".",this.EXPIRE_NOW,null,t)},_getRaw:function(){var e=this.cookie();return i.isString(e)||(e=this.cookieOwnerObject().cookie),e||""}};e.exports=o},Qb5l:function(e,t,n){var r=n("4wVy"),i=n("q1Og"),o={applyEventConstraints:function(e,t){return t&&t.fieldConstraints&&(e=o.applyFieldConstraints(e,t.fieldConstraints)),e},applyFieldConstraints:function(e,t){if(t){var n,o,a,s={};for(a in t)o=t[a],(e.hasOwnProperty(a)||!0===o.generateValue)&&(n=a in i?i[a].constrainedValue(e,o):i.base.constrainedValue(e,o,a),s[a]=n);for(a in s)e[a]=s[a];e=r.eventFields.mergeAndCleanEventFields(e)}return e},eventMatchesRule:function(e,t){var n=!1;return e&&t.filters&&("any"===t.filters?n=!0:r.reflect.isObject(t.filters)&&(n=o.eventMatchesNonEmptyFields(e,t.filters.nonEmptyFields)&&o.eventMatchesFieldValues(e,t.filters.valueMatches))),n},eventMatchesNonEmptyFields:function(e,t){var n=!1;return e&&(n=!t||!r.reflect.isArray(t)||t.every(function(t){return e.hasOwnProperty(t)&&r.reflect.isDefinedNonNullNonEmpty(e[t])})),n},eventMatchesFieldValues:function(e,t){var n=!1;return e&&(n=!(t&&r.reflect.isObject(t)&&!r.reflect.isEmptyObject(t))||Object.keys(t).every(function(n){var r=t[n];return e.hasOwnProperty(n)&&r.indexOf(e[n])>-1})),n},updateRules:function(e,t){var n,r,i=e||{};if(t&&t.fieldConstraints)for(n in i.fieldConstraints=i.fieldConstraints||{},t.fieldConstraints)for(r in i.fieldConstraints[n]=i.fieldConstraints[n]||{},t.fieldConstraints[n])i.fieldConstraints[n][r]=t.fieldConstraints[n][r];return i}};e.exports=o},R5a8:function(e,t,n){e.exports=n("uTT9")},R9rI:function(e,t,n){var r=n("4wVy"),i={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},makeAjaxRequest:r.network.makeAjaxRequest};e.exports=i},RU83:function(e,t,n){var r=n("kdk7"),i={_document:function(){if("undefined"!=typeof document)return document;throw"metricskit-delegates-html.environment HTML delegate 'document' object not found"},_window:function(){if("undefined"!=typeof window)return window;throw"metricskit-delegates-html.environment HTML delegate 'window' object not found"},setDelegate:function(e){return r.utils.reflect.attachDelegate(this,e)},cookie:function(){return i._window().document.cookie},pageUrl:function(){return i._window().location.href},parentPageUrl:function(){var e,t=i._window(),n=t.parent;if(n!==t)try{e=n.location.href}catch(r){e=i._document().referrer}return e},pixelRatio:function(){return i._window().devicePixelRatio},screenHeight:function(){return i._window().screen.height},screenWidth:function(){return i._window().screen.width},userAgent:function(){return i._window().navigator.userAgent},windowInnerHeight:function(){return i._window().innerHeight},windowInnerWidth:function(){return i._window().innerWidth},windowOuterHeight:function(){return i._window().outerHeight},windowOuterWidth:function(){return i._window().outerWidth},app:function(){},appVersion:function(){},capacityData:function(){},capacityDataAvailable:function(){},capacityDisk:function(){},capacitySystem:function(){},capacitySystemAvailable:function(){},connectionType:function(){},dsId:function(){},hostApp:function(){},hostAppVersion:function(){},osVersion:function(){},resourceRevNum:function(){},storeFrontHeader:function(){},userType:function(){}};e.exports=i},SfiK:function(e,t,n){var r=n("4wVy"),i=function(){};i.prototype._exceptionString=function(e){return"The function system.environment."+e+"() must be overridden with a platform-specific delegate function.If you have no data for this field, have your delegate return null or undefined (no 'return')"},i.prototype.setDelegate=function(e){return r.cookies.setDelegate(e),r.reflect.attachDelegate(this,e)},i.prototype.app=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.appVersion=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.capacityData=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.capacityDataAvailable=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.capacityDisk=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.capacitySystem=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.capacitySystemAvailable=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.connectionType=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.environmentBuild=function(){},i.prototype.environmentDataCenter=function(){},i.prototype.environmentInstance=function(){},i.prototype.hostApp=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.hostAppVersion=function(){},i.prototype.osLanguages=function(){},i.prototype.osVersion=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.pageUrl=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.parentPageUrl=function(){},i.prototype.pixelRatio=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.resourceRevNum=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.screenHeight=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.screenWidth=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.storeFrontHeader=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.userAgent=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.userType=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.windowInnerHeight=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.windowInnerWidth=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.windowOuterHeight=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.windowOuterWidth=function(){throw this._exceptionString(r.reflect.functionName())},i.prototype.localStorageObject=r.storage.localStorageObject,i.prototype.sessionStorageObject=r.storage.sessionStorageObject,e.exports=i},SyNU:function(e,t,n){var r=n("4wVy"),i=n("zbEW"),o=n("BQ5U"),a=n("J7Ey"),s=n("cJPm").Flexible,c={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},instance:function(e){var t=new s;return t.setDelegate({metricsData:this.metricsData}),t.initializeData.apply(t,arguments),t},metricsData:function(e,t){return a.processMetricsData.apply(c,arguments)},knownFields:function(){return["eventTime","eventType","xpSamplingPercentage"]},xpSamplingPercentage:function(e){return e&&e.xpSamplingPercentage||i.value("performance.samplingPercentage",o.topic())}};e.exports=c},T1HB:function(e,t,n){n("Tq1r");var r=n("fCD7"),i=n("p4UR");r.utils.setDelegate(i),e.exports=r},Tq1r:function(e,t,n){e.exports=n("JSPq")},UoZE:function(e,t,n){var r=n("4wVy"),i=n("ndPs"),o={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n){return i.processMetricsData.apply(this,arguments)},knownFields:function(){return["actionDetails","actionType","actionUrl","eventType","eventVersion","filters","location","targetId","targetType","term"]},eventType:function(e){return"search"},eventVersion:function(e){return e&&e.eventVersion||2}};e.exports=o},UyP6:function(e,t,n){var r=n("4wVy"),i={eventFields:n("NPkp"),reflect:n("ZYUj")};i._utClearSessions=r.sampling._utClearSessions,e.exports=i},V4b3:function(e,t){var n={},r={},i=function(e){var t={};return"function"===typeof e.mtName&&"function"===typeof e.mtVersion&&(t.name=e.mtName(),t.version=e.mtVersion()),t},o=function(e){var t;return"function"===typeof e.mtName&&"function"===typeof e.mtVersion&&(t=e.mtName()+e.mtVersion()),t},a={storeDelegateInfo:function(e,t){var a=o(e),s=o(t);a&&s&&(n[s]||(n[s]=i(t)),n[a]||(n[a]=i(e),r[a]={}),n[a].delegates?r[a][s]||n[a].delegates.push(n[s]):n[a].delegates=[n[s]],r[a][s]=!0)},getStoredDelegateObject:function(e){return n[o(e)]}};e.exports=a},"VTr+":function(e,t,n){var r=n("mfNi"),i=n("mHjg"),o={mergeAndCleanEventFields:function(e){for(var t=[!1,!1,!1].concat(Array.prototype.slice.call(arguments)),n=[],r=0;r<t.length;r++){var o=t[r];if(o&&o.constructor===Array)for(var a=0;a<o.length;a++)n.push(o[a]);else n.push(o)}return i.copyKeysAndValues.apply(this,n)},processMetricsData:function(e,t,n,r){var i=this.mergeAndCleanEventFields(r),o=i;if(e&&t){var a={};if(n||(t=t.filter(function(e){return e in i})),t.length)for(var s=0;s<t.length;s++){var c=t[s],u=e[c];"function"===typeof u&&(a[c]=u.call(e,i))}o=this.mergeAndCleanEventFields(o,a)}return o},applyFieldsMap:function(e,t,n,o){var a,s,c;if(e&&t&&n){var u,p;if(s={},a=r.valueForKeyPath(t,n,n.custom))if(i.isArray(a))for(u=0;u<a.length;++u)p=e[a[u]],i.isDefinedNonNull(p)&&(s[a[u]]=p);else if("object"===typeof a){for(var l in a)for(u=0;u<a[l].length;++u)if(p=r.valueForKeyPath(a[l][u],e),i.isDefinedNonNull(p)){s[l]=p;break}}else c="metrics: incorrect data type provided to applyFieldsMap (only accepts objects and Arrays)";else c="metrics: unable to get "+t+" section from fieldsMap"}else{var f=[];e||f.push("data"),t||f.push("sectionName"),n||f.push("fieldsMap"),c="metrics: missing argument(s): "+f.join(",")+" not provided to applyFieldsMap"}return c&&i.isFunction(o)&&o(c),s}};e.exports=o},XEWS:function(e,t,n){var r=n("4wVy"),i=n("ndPs"),o=n("CGlq").environment,a={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n){return i.processMetricsData.apply(this,arguments)},knownFields:function(){return["eventType","eventVersion","extRefUrl","osLanguages","refApp","type"]},eventType:function(e){return"enter"},eventVersion:function(e){return e&&e.eventVersion||1},osLanguages:function(e){return e&&e.osLanguages||o.osLanguages()}};e.exports=a},XzW2:function(e,t,n){var r=n("Tq1r").eventRecorder;e.exports=r},YXq5:function(e,t,n){var r=n("4wVy"),i=n("+n2x"),o=n("ndPs"),a=n("9zQx"),s={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n,r){var a=[e,t,n];return r&&(a.push({location:i.eventFields.buildLocationStructure(r)}),a.push(s.dataForElement(r)||{})),a=a.concat(Array.prototype.slice.call(arguments,4)),o.processMetricsData.apply(this,a)},knownFields:function(){return["actionContext","actionDetails","actionType","actionUrl","eventType","eventVersion","impressions","location","targetId","targetType","positionX","positionY","xpViewablePercentage"]},dataForElement:function(e){var t=null;if(e&&r.reflect.isFunction(e.hasAttribute)&&r.reflect.isFunction(e.getAttribute)){var n=s.dataAttribute();if(e.hasAttribute(n))try{t=JSON.parse(e.getAttribute(n))}catch(i){a.error("MetricsKit: error parsing click data - "+i)}}return t},dataAttribute:function(){return"data-metrics-click"},eventType:function(e){return"click"},eventVersion:function(e){return e&&e.eventVersion||4},impressions:function(e){return e?e.impressions:void 0},xpViewablePercentage:function(e){return o.xpViewablePercentage(e)}};e.exports=s},Yxvn:function(e,t,n){var r=n("4wVy"),i=n("zbEW"),o=n("BQ5U"),a=n("J7Ey"),s=n("cJPm").PageRender,c={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},instance:function(e,t,n){var r={pageId:e,pageType:t,pageContext:n},i=new s;return i.setDelegate({metricsData:this.metricsData}),i.initializeData.apply(i,[r].concat(Array.prototype.slice.call(arguments,3))),i},metricsData:function(e){return a.processMetricsData.apply(c,[c.eventType()].concat(Array.prototype.slice.call(arguments)))},knownFields:function(){return["eventTime","eventType","eventVersion","interstitialPageAppearTime","isAppLaunch","isPrimaryDataResponseCached","launchCorrelationKey","page","pageContext","pageDetails","pageId","pageType","pageUrl","pageAppearTime","pageEndTime","pageInterruptTime","pageRequestTime","pageUserInteractiveTime","parentPageUrl","preloadStatus","primaryDataRequestStartTime","primaryDataResponseStartTime","primaryDataResponseEndTime","primaryDataParseStartTime","primaryDataParseEndTime","modelConstructionStartTime","modelConstructionEndTime","modelRenderStartTime","modelRenderEndTime","onScreenResourcesAppearEndTime","resourceRequestStartTime","resourceRequestEndTime","xpSessionDuration","xpSamplingPercentageUsers"]},eventType:function(e){return"pageRender"},eventVersion:function(e){return 2},page:function(e){return a.page.call(a,e)},pageContext:function(e){return a.pageContext.call(a,e)},pageDetails:function(e){return a.pageDetails.call(a,e)},pageId:function(e){return a.pageId.call(a,e)},pageType:function(e){return a.pageType.call(a,e)},pageUrl:function(e){return a.pageUrl.call(a,e)},parentPageUrl:function(e){return a.parentPageUrl.call(a,e)},xpSessionDuration:function(e){return e&&e.xpSessionDurationPageRender||i.value("performance.sessionDurationPageRender",o.topic())},xpSamplingPercentageUsers:function(e){return e&&e.xpSamplingPercentageUsersPageRender||i.value("performance.samplingPercentageUsersPageRender",o.topic())}};e.exports=c},ZYUj:function(e,t,n){var r=n("4wVy"),i={attachDelegate:function(e,t){return r.reflect.attachDelegate(e,t)}};e.exports=i},ZhhC:function(e,t,n){var r=n("4wVy"),i={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},constrainedValue:function(e,t,n){var r=e&&e.hasOwnProperty(n)?e[n]:null;return i.applyConstraintRules(r,t)},applyConstraintRules:function(e,t){var n=e;return t&&t.blacklisted&&(n=null),n}};e.exports=i},Ziar:function(e,t){e.exports={version:"6.11.1",name:"mt-metricskit"}},aAZz:function(e,t,n){var r=n("RU83"),i=n("Tq1r"),o=n("kdk7");i.logger.setDelegate(o.system.logger),i.network&&i.network.setDelegate&&i.network.setDelegate(o.utils.network);var a={environment:r,eventRecorder:i.eventRecorder};e.exports=a},adoD:function(e,t,n){var r=n("mHjg"),i={deResNumber:function(e,t,n){var i=void 0;if(r.isDefined(e))if(r.isDefined(t)||(t=1048576),r.isDefined(n)||(n=2),r.isNumber(e)&&r.isNumber(t)&&t>0&&r.isInteger(n)&&n>=0){var o=Math.pow(10,n);i=Math[e>0?"floor":"ceil"](e/t/o)*o}else i=NaN;return i}};e.exports=i},aeF1:function(e,t){var n={},r=function(e){n[e]&&(clearTimeout(n[e]),n[e]=null)},i={_utClearSessions:function(){for(var e in n)r(e)},lottery:function(e){return Math.random()<e},sessionSampled:function(e,t,o){var a;if(n[e])a=!0;else{var s=i.lottery(t);s&&o>0&&(n[e]=setTimeout(r.bind(null,e),o)),a=s}return a},isSampledIn:function(e,t,n,r,o){return t||i.sessionSampled(e,n,r)||i.lottery(o)}};e.exports=i},b6o7:function(e,t,n){var r=n("iR0E"),i={};for(var o in i.account=n("vckD"),i.base=n("ndPs"),i.buyConfirmed=n("zjkC"),i.click=n("YXq5"),i.dialog=n("mYEQ"),i.enter=n("XEWS"),i.exit=n("HbUU"),i.flexible=n("Ac8G"),i.impressions=n("zL4G"),i.media=n("9Fse"),i.page=n("7nyt"),i.search=n("UoZE"),i)r.attachDelegateInfo(i[o]);e.exports=i},bnss:function(e,t,n){e.exports=n("T1HB")},cJPm:function(e,t,n){var r={Flexible:n("xsLf"),LoadUrl:n("DCwR"),PageRender:n("I1tU")};e.exports=r},daF1:function(e,t){var n={maxWait:1500,initialDelay:100,factor:2},r=function(e,t,r){this.delay=e||n.initialDelay,this.maxWait="number"===typeof t?t:n.maxWait,this.factor=r||n.factor,this.timeWaited=0};r.prototype.nextDelay=function(){var e=null,t=this.maxWait-this.timeWaited;return t>0&&(this.delay=Math.min(this.delay,t),this.timeWaited+=this.delay),(0===this.maxWait||t>0)&&(e=this.delay,this.delay=this.delay*this.factor),e};var i={_backoff:function(e,t,n,r){t.call(t,n,function(){var o=e.nextDelay();o?setTimeout(i._backoff.bind(i,e,t,n,r),o):r.apply(r,arguments)})},exponentialBackoff:function(e,t,n,o,a,s){var c=new r(o,a,s);i._backoff(c,e,t,n)}};e.exports=i},eE5y:function(e,t,n){var r=n("4wVy"),i=n("eXD1"),o={MIN_LEVEL:0,NONE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,MAX_LEVEL:4,levelIntToStringMap:{0:"none",1:"debug",2:"info",3:"warn",4:"error"},levelStringToIntMap:{none:0,debug:1,info:2,warn:3,error:4}},a={loggerName:"defaultLogger",level:o.INFO,throwLevel:o.NONE},s={},c=function(e){this._loggerName=e,this._level,this._throwLevel};c.loggerNamed=function(e){var t=s[e=e||a.loggerName];return t||(t=new c(e),s[e]=t),t},c.level=function(){return a.level},c.throwLevel=function(){return a.throwLevel},r.reflect.extend(c.prototype,o),r.reflect.extend(c.prototype,i.flagArguments),c.prototype.setDelegate=function(e){return r.reflect.attachDelegate(this,e)},c.prototype.loggerName=function(){return this._loggerName},c.prototype.levelParameterAsInt=function(e){var t,n=null;return r.reflect.isString(e)?t=this.levelStringToIntMap[e.toLowerCase()]:r.reflect.isNumber(e)&&(t=e),t>=this.MIN_LEVEL&&t<=this.MAX_LEVEL&&(n=t),n},c.prototype.setLevel=function(e){var t=this.levelParameterAsInt(e);null!==t&&(this._level=t)},c.prototype.setThrowLevel=function(e){var t=this.levelParameterAsInt(e);null!==t&&(this._throwLevel=t)},c.prototype.level=function(){var e=this._level;return r.reflect.isNumber(e)?e:c.level()},c.prototype.levelString=function(){return this.levelIntToStringMap[this.level()]},c.prototype.throwLevel=function(){var e=this._throwLevel;return r.reflect.isNumber(e)?e:c.throwLevel()},c.prototype.debug=function(){i.execute(this,"debug",arguments)},c.prototype.info=function(){i.execute(this,"info",arguments)},c.prototype.warn=function(){i.execute(this,"warn",arguments)},c.prototype.error=function(){i.execute(this,"error",arguments)},c.prototype.lastLog=function(e){return this[e]?this[e]._lastLog:null},e.exports=c},eOFJ:function(e,t,n){var r=n("zbEW"),i=n("4wVy"),o=function(e){this.setDelegate({topic:e})};o.prototype._exceptionString=function(e){return"The function eventHandlers.base."+e+"() must be overridden with a Kit-specific delegate function."},o.prototype.setDelegate=function(e){return i.reflect.attachDelegate(this,e)},o.prototype.topic=function(){throw this._exceptionString(i.reflect.functionName())},o.prototype.environment=function(){throw this._exceptionString(i.reflect.functionName())},o.prototype.eventRecorder=function(){throw this._exceptionString(i.reflect.functionName())},o.prototype.metricsData=function(){throw this._exceptionString(i.reflect.functionName())},o.prototype.processMetricsData=function(){throw this._exceptionString(i.reflect.functionName())},o.prototype.knownFields=function(){return["app","appVersion","baseVersion","capacityData","capacityDataAvailable","capacityDisk","capacitySystem","capacitySystemAvailable","connection","constraintProfile","cookies","environmentBuild","environmentDataCenter","environmentInstance","eventTime","isSignedIn","hostApp","hostAppVersion","osVersion","pixelRatio","resourceRevNum","screenHeight","screenWidth","storeFrontHeader","timezoneOffset","userAgent","userType","windowInnerHeight","windowInnerWidth","windowOuterHeight","windowOuterWidth","xpPostFrequency","xpSendMethod"]},o.prototype.app=function(e){return e&&e.app||this.environment().app()},o.prototype.appVersion=function(e){return e&&e.appVersion||this.environment().appVersion()},o.prototype.baseVersion=function(){return 1},o.prototype.capacityData=function(e){return e&&e.capacityData||this.environment().capacityData()},o.prototype.capacityDataAvailable=function(e){return e&&e.capacityDataAvailable||this.environment().capacityDataAvailable()},o.prototype.capacityDisk=function(e){return e&&e.capacityDisk||this.environment().capacityDisk()},o.prototype.capacitySystem=function(e){return e&&e.capacitySystem||this.environment().capacitySystem()},o.prototype.capacitySystemAvailable=function(e){return e&&e.capacitySystemAvailable||this.environment().capacitySystemAvailable()},o.prototype.connection=function(e){return e&&e.connection||this.environment().connectionType()},o.prototype.constraintProfile=function(e){return e&&e.constraintProfile||i.reflect.isFunction(r.constraintProfile)&&r.constraintProfile(this.topic())},o.prototype.cookies=function(e){var t=null;if(e&&e.cookies)t=e.cookies;else{var n=r.value("fieldsMap.cookies",this.topic());if(i.reflect.isArray(n))for(var o=0;o<n.length;o++){var a=n[o],s=i.cookies.get(a);s&&(t||(t={}),t[a]=s)}}return t},o.prototype.eventTime=function(e){return e&&e.eventTime||Date.now()},o.prototype.hostApp=function(e){return e&&e.hostApp||this.environment().hostApp()},o.prototype.hostAppVersion=function(e){return e&&e.hostAppVersion||this.environment().hostAppVersion()},o.prototype.osVersion=function(e){return e&&e.osVersion||this.environment().osVersion()},o.prototype.page=function(e){var t=null;if(e)return e.page?t=e.page:this.pageType(e)&&this.pageId(e)&&(t=this.pageType(e)+r.value("compoundSeparator",this.topic())+this.pageId(e)),t;throw"No data provided to event_handlers/base page function"},o.prototype.pageContext=function(e){return e&&e.pageContext},o.prototype.pageDetails=function(e){return e&&e.pageDetails},o.prototype.pageId=function(e){return e&&e.pageId},o.prototype.pageType=function(e){return e&&e.pageType},o.prototype.pageUrl=function(e){return e&&e.pageUrl||this.environment().pageUrl()},o.prototype.parentPageUrl=function(e){return e&&e.parentPageUrl||this.environment().parentPageUrl()},o.prototype.pixelRatio=function(e){return e&&e.pixelRatio||this.environment().pixelRatio()},o.prototype.resourceRevNum=function(e){return e&&e.resourceRevNum||this.environment().resourceRevNum()},o.prototype.screenHeight=function(e){return e&&e.screenHeight||this.environment().screenHeight()},o.prototype.screenWidth=function(e){return e&&e.screenWidth||this.environment().screenWidth()},o.prototype.storeFrontHeader=function(e){return e&&e.storeFrontHeader||this.environment().storeFrontHeader()},o.prototype.timezoneOffset=function(e){return e&&e.timezoneOffset||(new Date).getTimezoneOffset()},o.prototype.userAgent=function(e){return e&&e.userAgent||this.environment().userAgent()},o.prototype.userType=function(e){return e&&e.userType||this.environment().userType()},o.prototype.windowInnerHeight=function(e){return e&&e.windowInnerHeight||this.environment().windowInnerHeight()},o.prototype.windowInnerWidth=function(e){return e&&e.windowInnerWidth||this.environment().windowInnerWidth()},o.prototype.windowOuterHeight=function(e){return e&&e.windowOuterHeight||this.environment().windowOuterHeight()},o.prototype.windowOuterWidth=function(e){return e&&e.windowOuterWidth||this.environment().windowOuterWidth()},o.prototype.xpPostFrequency=function(e){return e&&e.xpPostFrequency||r.value("postFrequency",this.topic())},o.prototype.xpSendMethod=function(e){return e&&e.xpSendMethod||this.eventRecorder().sendMethod()},e.exports=o},eXD1:function(e,t,n){var r=n("4wVy"),i={flagArguments:{INCLUDE_CALL_STACK:new function(){},MIRROR_TO_SERVER:new function(){},SUPPRESS_CLIENT_OUTPUT:new function(){}},setDelegate:function(e){return r.reflect.attachDelegate(this,e)},execute:function(e,t,n){var r=e.levelStringToIntMap[t];if(e.level()!==e.NONE&&e.level()<=r){var o=Array.prototype.slice.call(n),a=i.nonFlagLogArguments(o),s=i.logOptions(e,r,o),c=s.includeCallStack?(new Error).stack:null,u=c?a.concat("\n"+c):a;if(e[t]._lastLog=u,s.mirrorToServer&&i.sendToServer(e,t,a,c),s.throwInsteadOfPrint)throw new Error(a.toString());s.suppressClientOutput||console[t]}},isFlagObject:function(e){return e&&e===i.flagArguments[e.constructor.name]},nonFlagLogArguments:function(e){return e.filter(function(e){return!i.isFlagObject(e)})},logOptions:function(e,t,n){var o,a={};return n.forEach(function(e){i.isFlagObject(e)&&(o=r.string.snakeCaseToCamelCase(e.constructor.name),a[o]=!0)}),r.reflect.isFunction(e.mirrorToServerLevel)&&e.mirrorToServerLevel()!==e.NONE&&e.mirrorToServerLevel()<=t&&(a.mirrorToServer=!0),e.throwLevel()!==e.NONE&&e.throwLevel()<=t&&(a.throwInsteadOfPrint=!0),a},sendToServer:function(e,t,n,r){}};e.exports=i},evOs:function(e,t,n){var r={};r.backoff=n("daF1"),r.config=n("sooJ"),r.cookies=n("PubQ"),r.delegatesInfo=n("V4b3"),r.eventFields=n("VTr+"),r.keyValue=n("mfNi"),r.network=n("6gfD"),r.number=n("adoD"),r.reflect=n("mHjg"),r.sampling=n("aeF1"),r.storage=n("g4yi"),r.string=n("lI+O"),r.optionValueFromStoreFrontHeader=function(e,t){for(var n=null,i="string"===typeof e?e.split(" "):[],o=r.string.endsWith(t,":")?t:t+":",a=0;!n&&a<i.length;++a)0===i[a].search(o)&&(n=i[a].slice(o.length));return n},e.exports=r},fCD7:function(e,t,n){var r=n("4wVy"),i=n("9vPY"),o={mirrorToServerLevel:i.prototype.NONE,topic:""};i.setTopic=function(e){o.topic=e},i.topic=function(){return o.topic},i.mirrorToServerLevel=function(){return o.mirrorToServerLevel},i.prototype.setTopic=function(e){this._topic=e},i.prototype.topic=function(){var e=this._topic||i.topic();return e},i.prototype.setMirrorToServerLevel=function(e){var t=this.levelParameterAsInt(e);null!==t&&(this._mirrorToServerLevel=t)},i.prototype.mirrorToServerLevel=function(){var e=this._mirrorToServerLevel;return r.reflect.isNumber(e)?e:i.mirrorToServerLevel()},e.exports=i},g4yi:function(e,t){var n=function(e){var t=null,n=!1;return function(){return e?t=e:(n||(n=!0),t||(t={storage:{},getItem:function(e){return this.storage[e]},setItem:function(e,t){this.storage[e]=t},removeItem:function(e){delete this.storage[e]}})),t}},r={localStorageObject:n("undefined"!=typeof localStorage?localStorage:null),sessionStorageObject:n("undefined"!=typeof sessionStorage?sessionStorage:null),saveObjectToStorage:function(e,t,n){var r=null;if(n)try{e.setItem(t,JSON.stringify(n)),r=n}catch(i){}else r=e.removeItem(t);return r},objectFromStorage:function(e,t){var n=null,r=e.getItem(t);if(r)try{n=JSON.parse(r)}catch(i){n=void 0}return n}};e.exports=r},i42N:function(e,t,n){var r=n("4wVy"),i={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},localStorageObject:r.storage.localStorageObject,sessionStorageObject:r.storage.sessionStorageObject};e.exports=i},iR0E:function(e,t,n){var r=n("4wVy"),i=n("Ziar"),o={mtName:function(){return i.name},mtVersion:function(){return i.version}},a={attachDelegateInfo:function(e){r.reflect.extend(e,o)}};e.exports=a},jeOd:function(e,t,n){var r=n("4wVy"),i={attachDelegate:function(e,t){return r.reflect.attachDelegate(e,t)},extend:function(e){return r.reflect.extend.apply(r.reflect,arguments)}};e.exports=i},jmHC:function(e,t,n){var r=n("9vPY").loggerNamed("mt-client-config");e.exports=r},kPjG:function(e,t,n){var r=n("eE5y"),i=n("eXD1");r.utils=i,e.exports=r},kdk7:function(e,t,n){e.exports=n("zAtg")},"lI+O":function(e,t,n){(function(t){var n={startsWith:function(e,t,n){var r=!1;return e&&t&&(e=e.substr(0,t.length),n&&(e=e.toLowerCase(),t=t.toLowerCase()),r=0===e.indexOf(t)),r},endsWith:function(e,t,n){var r=!1;if(e&&t){n&&(e=e.toLowerCase(),t=t.toLowerCase());var i=e.length-t.length;r=i>=0&&e.lastIndexOf(t)===i}return r},trim:function(e,t,n){var r=null,i="\t\n\v\f\r \xa0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u3000\u2028\u2029\u200b",o=new RegExp("^["+i+"]+"),a=new RegExp("["+i+"]+$");if(e)if(n||t&&t!=i||!e.trim){var s=null,c=null,u=null;t&&"undefined"!==typeof t?(s="["+(t=t.replace(/([.?*+^$[\]\\(){}-])/g,"\\$1"))+"]",c=new RegExp("^"+s+"+"),u=new RegExp(s+"+$")):(s=i,c=o,u=a),r=e.replace(c,"").replace(u,"")}else r=e.trim();return r},snakeCaseToCamelCase:function(e,t){var n="";if(e)for(var r,i=e.toLowerCase().split("_"),o=0;o<i.length;o++)r=i[o][0],(0!==o||t)&&(r=r.toUpperCase()),n+=r+i[o].slice(1);return n},snakeCaseToUpperCamelCase:function(e){return n.snakeCaseToCamelCase(e,!0)},paramString:function(e){var t="",n="",r=!0;for(var i in e){var o=e[i];(o||0===o||!1===o)&&(t+=n+i+"="+encodeURIComponent(o),r&&(n="&",r=!1))}return t},versionStringFromUserAgent:function(e,t){var n=null;t=t||"\\S+";var r=new RegExp("\\b"+t+"/(\\S+)\\b","i").exec(e);return r&&r[1]&&(n=r[1]),n},requestId:function(e){var t=Date.now(),n=Math.floor(1e5*Math.random());return e+"z"+(t=t.toString(36).toUpperCase())+"z"+(n=n.toString(36).toUpperCase())},uuid:function(e){for(var t,r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",i="",o=0,a=r.length;o<a;o++)i+="x"===(t=r.charAt(o))?n.randomHexCharacter(e):"y"===t?n.randomHexCharacter(e,"8","b"):t;return i},randomHexCharacter:function(e,r,i){var o,a=t.crypto||t.msCrypto;return o=e?(16*e()|0).toString(16):a&&a.getRandomValues?(15&a.getRandomValues(new Uint8Array(1))[0]).toString(16):a&&a.randomBytes?a.randomBytes(1).toString("hex")[0]:(16*Math.random()|0).toString(16),r&&i&&(o<r||o>i)&&(o=n.randomHexCharacter(e,r,i)),o},weakUUID:function(){return n.uuid()},convertNumberToBaseAlphabet:function(e,t){var n="",r=t.length;if(r<=36)n=e.toString(r).toUpperCase();else{for(var i,o,a=[];e>0;)i=e%r,o=t.charAt(i),a.push(o),e=(e-i)/r;n=a.reverse().join("")}return""===n&&(n="0"),n},base10Alphabet:"0123456789"};n.base16Alphabet=n.base10Alphabet+"ABCDEF",n.base36Alphabet=n.base10Alphabet+"ABCDEFGHIJKLMNOPQRSTUVWXYZ",n.base61Alphabet=n.base36Alphabet+"abcdefghijklmnopqrstuvwxy",n.base62Alphabet=n.base61Alphabet+"z",e.exports=n}).call(this,n("yLpj"))},"lbH/":function(e,t,n){var r={Base:n("eOFJ")};e.exports=r},mHjg:function(e,t,n){var r=n("V4b3"),i={setDelegate:!0},o={_utResetNonOverridableFunctions:function(){i={setDelegate:!0}},functionName:function e(){return e.caller.name},shallowClone:function(e){var t,n,r={},i=o.hasGetterAndSetterMethods(e);for(var a in e)t=null,n=null,i&&(t=e.__lookupGetter__(a),n=e.__lookupSetter__(a)),t||n?(t&&r.__defineGetter__(a,t),n&&r.__defineSetter__(a,n)):r[a]=e[a];return r},isDefined:function(e){return"undefined"!==typeof e},isDefinedNonNull:function(e){return this.isDefined(e)&&null!==e},isDefinedNonNullNonEmpty:function(e){return o.isDefinedNonNull(e)&&!o.isEmptyString(e)&&!o.isEmptyArray(e)&&!o.isEmptyObject(e)},isEmptyString:function(e){return o.isString(e)&&0===e.length},isEmptyArray:function(e){return o.isArray(e)&&0===e.length},isEmptyObject:function(e){return o.isObject(e)&&0===Object.keys(e).length},isFunction:function(e){return"function"===typeof e},isNumber:function(e){return"number"==typeof e},isInteger:function(e){return o.isNumber(e)&&e%1===0},isString:function(e){return"string"===typeof e||e instanceof String},isElement:function(e){return e&&1==e.nodeType},isArray:function(e){return e&&e.constructor===Array},isObject:function(e){return e&&e.constructor===Object},values:function(e){var t=[];for(var n in e){var r=e[n];e.hasOwnProperty(n)&&!o.isFunction(r)&&t.push(r)}return t},keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&!o.isFunction(e[n])&&t.push(n);return t},hasAnyKeys:function(e){for(var t in e)if(e.hasOwnProperty(t))return!0},hasAnyNonNullKeys:function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!0},hasGetterAndSetterMethods:function(e){return o.isObject(e)&&o.isFunction(e.__lookupGetter__)&&o.isFunction(e.__lookupSetter__)&&o.isFunction(e.__defineGetter__)&&o.isFunction(e.__defineSetter__)},methods:function(e){var t=[];for(var n in e){var r=e[n];e.hasOwnProperty(n)&&o.isFunction(r)&&t.push(r)}return t},invert:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&!o.isFunction(e[n])&&(t[e[n]]=n);return t},extend:function(e){var t=[!0,!0,!0].concat(Array.prototype.slice.call(arguments));return this.copyKeysAndValues.apply(this,t)},copyKeysAndValues:function(e,t,n,r){for(var i,a,s,c,u=n&&r||{},p=3;p<arguments.length;p++)for(var l in i=arguments[p],a=o.hasGetterAndSetterMethods(i),i)if(s=null,c=null,a&&(s=i.__lookupGetter__(l),c=i.__lookupSetter__(l)),s||c)s&&u.__defineGetter__(l,s),c&&u.__defineSetter__(l,c);else if(Object.prototype.hasOwnProperty.call(i,l)){var f=i[l];(e||null!==f&&void 0!==f)&&(t||"function"!==typeof f)&&(u[l]=f)}return u},addNonOverrideableFunctions:function(e){for(var t=0;t<e.length;t++){var n=e[t];i[n]=!0}},attachDelegate:function(e,t){var n=!1;if(e&&t&&e!==t){r.storeDelegateInfo(e,t);var a={};Object.keys(t).forEach(function(t){e[t]||(a[t]=!0)}),o.extend(a,i),n=o.attachMethods(e,t,null,a)}return n},attachMethods:function(e,t,n,r){var i=!1;if(e&&t){r=r||{},n=n||t;var o=function(e,t,n,r){var i=function(){return n[r].apply(e,arguments)};return t&&(i.origFunction=t),i};for(var a in t)if(!(a in r)&&t[a]&&"function"===typeof t[a]){var s=e[a],c=s&&"function"===typeof s?s.bind(e):null;e[a]=o(n,c,t,a),i=!0}}return i},setDelegates:function(e,t){var n={};for(var r in e)t[r]&&o.isFunction(e[r].setDelegate)&&(n[r]=e[r].setDelegate(t[r]));return n},copyDelegatedFunctions:function(e,t){var n=null;if(e&&t&&t.setDelegate){var r,i={};for(r in e)o.isFunction(e[r])&&e[r].origFunction&&(i[r]=e[r]);n=t.setDelegate(i)}return n}};e.exports=o},mYEQ:function(e,t,n){var r=n("4wVy"),i=n("ndPs"),o={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n){return i.processMetricsData.apply(this,arguments)},knownFields:function(){return["buttons","code","details","message","type","eventType","eventVersion","type"]},eventType:function(e){return"dialog"},eventVersion:function(e){return e&&e.eventVersion||2}};e.exports=o},mfNi:function(e,t){var n={_valueForKeyPath:function(e,t,n){var r=t;if(e&&t)for(var i=e.split("."),o=0;r&&o<i.length;o++){var a=i[o];!r[a]&&n&&(r[a]={}),r=r[a]?r[a]:null}return r},valueForKeyPath:function(e){var t=null;if(e&&arguments.length>1)for(var n=this.sourcesArray(Array.prototype.slice.call(arguments,1)),r=n.length-1;r>=0;r--){var i=n[r];if(t=this._valueForKeyPath(e,i))break}return t},createObjectAtKeyPath:function(e,t){return this._valueForKeyPath(e,t,!0)},sourcesArray:function(e){var t=[],n=[];n=n.concat(e),arguments&&arguments.length>1&&(n=n.concat(Array.prototype.slice.call(arguments,1)));for(var r=0;r<n.length;r++){var i=n[r];t=t.concat(i)}return t}};e.exports=n},ndPs:function(e,t,n){var r=n("4wVy"),i=n("v+lY"),o=n("zbEW"),a=n("+n2x"),s=n("CGlq"),c=s.environment,u=n("vOnR"),p=n("Ziar"),l={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n){var r=Array.prototype.slice.call(arguments),i=o.value("metricsBase",u.topic());return i&&r.push(i),l.processMetricsData.apply(l,r)},processMetricsData:function(e,t,n){var r=null,s="function"==typeof this.eventType?this.eventType():null;if(!o.metricsDisabledOrBlacklistedEvent(s,u.topic())){var c=this!==l,p="function"!=typeof this.mtIncludeBaseFields||this.mtIncludeBaseFields(),f=Array.prototype.slice.call(arguments,3);if(c&&p)f=[l.metricsData.apply(l,arguments)].concat(f);if(r=a.eventFields.processMetricsData(this,this.knownFields(),e,t,n,f),c){var d=o.constraintsForEvent(r,u.topic());i.utils.eventFields.applyEventConstraints(r,d),o.removeBlacklistedFields(r,u.topic()),o.applyDeRes(r,u.topic())}}return r},knownFields:function(){return["app","appVersion","baseVersion","capacityData","capacityDataAvailable","capacityDisk","capacitySystem","capacitySystemAvailable","connection","constraintProfile","clientId","cookies","dsId","environmentBuild","environmentDataCenter","environmentInstance","eventTime","experimentId","isSignedIn","hardwareFamily","hardwareModel","hostApp","hostAppVersion","os","osBuildNumber","osVersion","page","pageContext","pageDetails","pageId","pageType","pageUrl","parentPageUrl","pixelRatio","resourceRevNum","screenHeight","screenWidth","storeFrontHeader","timezoneOffset","userAgent","userType","windowInnerHeight","windowInnerWidth","windowOuterHeight","windowOuterWidth","xpPostFrequency","xpSendMethod","xpVersionMetricsKit","xpDelegatesInfo"]},app:function(e){return e&&e.app||c.app()},appVersion:function(e){return e&&e.appVersion||c.appVersion()},baseVersion:function(e){return 1},capacityData:function(e){return e&&e.capacityData||c.capacityData()},capacityDataAvailable:function(e){return e&&e.capacityDataAvailable||c.capacityDataAvailable()},capacityDisk:function(e){return e&&e.capacityDisk||c.capacityDisk()},capacitySystem:function(e){return e&&e.capacitySystem||c.capacitySystem()},capacitySystemAvailable:function(e){return e&&e.capacitySystemAvailable||c.capacitySystemAvailable()},connection:function(e){return e&&e.connection||c.connectionType()},constraintProfile:function(e){return e&&e.constraintProfile||o.constraintProfile(u.topic())},clientId:function(e){return e&&e.clientId||r.cookies.get("xp_ci")},cookies:function(e){var t=null;if(e.cookies)t=e.cookies;else{var n=o.value("fieldsMap.cookies",u.topic());if(n&&n)for(var i=0;i<n.length;i++){var a=n[i],s=r.cookies.get(a);s&&(t||(t={}),t[a]=s)}}return t},dsId:function(e){return e&&e.dsId||c.dsId()},isSignedIn:function(e){return e&&"isSignedIn"in e?e.isSignedIn:!!this.dsId()},eventTime:function(e){return e&&e.eventTime||Date.now()},experimentId:function(e){return e&&e.experimentId||r.optionValueFromStoreFrontHeader(this.storeFrontHeader(e),"ab")},hardwareFamily:function(e){return e&&e.hardwareFamily||c.hardwareFamily()},hardwareModel:function(e){return e&&e.hardwareModel||c.hardwareModel()},hostApp:function(e){return e&&e.hostApp||c.hostApp()},hostAppVersion:function(e){return e&&e.hostAppVersion||c.hostAppVersion()},os:function(e){return e&&e.os||c.os()},osBuildNumber:function(e){return e&&e.osBuildNumber||c.osBuildNumber()},osVersion:function(e){return e&&e.osVersion||c.osVersion()},page:function(e){if(!e)throw"No data provided to event_handlers/base page function";return e.page?e.page:this.pageType(e)&&this.pageId(e)?this.pageType(e)+o.value("compoundSeparator",u.topic())+this.pageId(e):void 0},pageContext:function(e){return e&&e.pageContext},pageDetails:function(e){return e&&e.pageDetails},pageId:function(e){return e&&e.pageId},pageType:function(e){return e&&e.pageType},pageUrl:function(e){return e&&e.pageUrl||c.pageUrl()},parentPageUrl:function(e){return e&&e.parentPageUrl||c.parentPageUrl()},pixelRatio:function(e){return e&&e.pixelRatio||c.pixelRatio()},resourceRevNum:function(e){return e&&e.resourceRevNum||c.resourceRevNum()},screenHeight:function(e){return e&&e.screenHeight||c.screenHeight()},screenWidth:function(e){return e&&e.screenWidth||c.screenWidth()},storeFrontHeader:function(e){return e&&e.storeFrontHeader||c.storeFrontHeader()},timezoneOffset:function(e){return e&&e.timezoneOffset||(new Date).getTimezoneOffset()},userAgent:function(e){return e&&e.userAgent||c.userAgent()},userType:function(e){return e&&e.userType||c.userType()},windowInnerHeight:function(e){return e&&e.windowInnerHeight||c.windowInnerHeight()},windowInnerWidth:function(e){return e&&e.windowInnerWidth||c.windowInnerWidth()},windowOuterHeight:function(e){return e&&e.windowOuterHeight||c.windowOuterHeight()},windowOuterWidth:function(e){return e&&e.windowOuterWidth||c.windowOuterWidth()},xpPostFrequency:function(e){return e&&e.xpPostFrequency||o.value("postFrequency",u.topic())},xpViewablePercentage:function(e){return e&&e.xpViewablePercentage||o.value("impressions.viewablePercentage",u.topic())},xpSendMethod:function(e){return e&&e.xpSendMethod||s.eventRecorder.sendMethod()},xpVersionMetricsKit:function(){return p.version},xpDelegatesInfo:function(){var e=r.delegatesInfo.getStoredDelegateObject(this),t=e&&e.delegates;return t||void 0}};e.exports=l},oM8U:function(e,t,n){var r=n("58Wi");e.exports=r},oUqD:function(e,t,n){var r=n("4wVy"),i={versionStringFromUserAgent:function(e,t){return r.string.versionStringFromUserAgent(e,t)}};e.exports=i},p4UR:function(e,t,n){var r=n("4wVy"),i=n("9vPY"),o=n("Tq1r");i.eventRecorder=o.eventRecorder;var a={eventType:"log",eventVersion:"4"},s={sendToServer:function(e,t,n,o){var s=e.topic(),c=function(e,t,n,i){var o=null,s=n&&n.length;if(t&&(s||i)&&(o={},r.reflect.extend(o,a),o.eventTime=Date.now(),o.level=t,o.loggerName=e.loggerName(),i&&(o.callstack=i),s)){try{o.arguments=JSON.stringify(n)}catch(u){e.error("Error stringifying arguments as JSON: "+u)}if("string"===typeof n[0])o.message=n[0];else if("object"===typeof n[0]&&1===n.length){var c=n[0];o=r.reflect.extend({},c,o)}}return o}(e,t,n,o),u=null;return s&&c&&(u=i.eventRecorder.recordEvent(s,c)),u}};e.exports=s},pkkS:function(e,t,n){var r={eventFields:n("Qb5l"),url:n("6ubU")};e.exports=r},q1Og:function(e,t,n){var r={base:n("ZhhC"),clientId:n("+3v0"),parentPageUrl:n("ALdr")};e.exports=r},sooJ:function(e,t,n){var r=n("adoD"),i=(n("mHjg"),{disabled:function(e){return!!this.value("disabled",e)},blacklistedEvents:function(e){return this.value("blacklistedEvents",e)||[]},blacklistedFields:function(e){return this.value("blacklistedFields",e)||[]},removeBlacklistedFields:function(e,t){if(e)for(var n=i.blacklistedFields.call(this,t),r=0;r<n.length;r++){var o=n[r];o&&o in e&&delete e[o]}return e},metricsDisabledOrBlacklistedEvent:function(e,t){return i.disabled.call(this,t)||!!e&&i.blacklistedEvents.call(this,t).indexOf(e)>-1},deResFields:function(e){return this.value("deResFields",e)||[]},applyDeRes:function(e,t){var n;e&&i.deResFields.call(this,t).forEach(function(t){(n=t.fieldName)in e&&(e[n]=r.deResNumber(e[n],t.magnitude,t.significantDigits))});return e}});e.exports=i},t6cM:function(e,t,n){var r={config:n("PZSh"),fieldHandlers:n("q1Og"),system:n("Fw/V"),utils:n("pkkS")};e.exports=r},"tQs+":function(e,t,n){e.exports=n("BySu")},uTT9:function(e,t,n){var r={eventHandlers:n("lbH/"),system:n("DS2b")};e.exports=r},"v+lY":function(e,t,n){e.exports=n("t6cM")},vOnR:function(e,t,n){var r,i=n("zbEW"),o=n("OkBR"),a=n("9zQx"),s=n("P9Uk"),c=n("4wVy");i.environment.setDelegate(o),i.logger.setDelegate(a),i.network.setDelegate(s),c.reflect.attachMethods(i,c.config,i);var u={topic:function(){return r},setTopic:function(e){r=e}};e.exports=u},vckD:function(e,t,n){var r=n("4wVy"),i=n("ndPs"),o={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n){return i.processMetricsData.apply(this,arguments)},knownFields:function(){return["eventType","eventVersion","type"]},eventType:function(e){return"account"},eventVersion:function(e){return e&&e.eventVersion||1}};e.exports=o},vsct:function(e,t,n){e.exports=n("aAZz")},x4bH:function(e,t,n){var r=n("4wVy"),i=(n("9zQx"),["The function metrics.system.eventRecorder.","placeholder","() must be overridden with a platform-specific delegate function. If you have no data for this field, have your delegate return null or undefined (no 'return')"]),o={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},recordEvent:function(e,t){throw i[1]=r.reflect.functionName(),i.join("")},sendMethod:function(){throw i[1]=r.reflect.functionName(),i.join("")},flushUnreportedEvents:function(e){}};e.exports=o},xsLf:function(e,t,n){var r=n("4wVy"),i=n("8d2A"),o=function(){this._eventType=null,i.apply(this,arguments)};(o.prototype=new i).constructor=o,o.prototype.initializeData=function(e){this._eventType=e;var t=this.metricsData.apply(this,[this._eventType,!0].concat(Array.prototype.slice.call(arguments,1)));r.reflect.extend.apply(r.reflect,[this._eventData].concat(t)),this.sampledIn()},o.prototype.metricsData=function(e,t){return r.eventFields.mergeAndCleanEventFields([{eventType:e}].concat(Array.prototype.slice.call(arguments,2)))},o.prototype.toJSON=function(){return this.metricsData.call(this,this._eventType,!1,this._eventData,{eventType:this._eventType})||{}},e.exports=o},yLnC:function(e,t,n){var r={base:n("J7Ey"),flexible:n("SyNU"),loadUrl:n("NPBC"),pageRender:n("Yxvn")};e.exports=r},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}e.exports=n},zAtg:function(e,t,n){var r,i=n("zbEW"),o=n("v+lY"),a=n("4wVy"),s=n("+n2x"),c=n("CGlq"),u=n("vOnR"),p=n("b6o7"),l=n("iR0E"),f=(s=n("+n2x"),function(e){a.reflect.attachMethods(e,a.config,e),a.reflect.attachMethods(e,o.config,e),l.attachDelegateInfo(e)}),d={_utSetInitCalled:function(e){r=e},system:c,config:i.defaultConfig(),eventHandlers:p,utils:s,init:function(e,t,n,o,l){if(!r){r=!0,n&&(a.reflect.setDelegates(p,n),a.reflect.setDelegates(c,n),a.reflect.setDelegates(s,n)),u.setTopic(e);var h=i.createConfig(e,t,o,l);f(h),a.reflect.copyDelegatedFunctions(d.config,h),d.config=h,d.system.configSources=d.config}}};f(i.defaultConfig()),a.reflect.attachMethods(i,o.config,i),o.system.environment.setDelegate(c.environment),e.exports=d},zL4G:function(e,t,n){var r=n("4wVy"),i=n("zbEW"),o=n("vOnR"),a=n("ndPs"),s={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n){return a.processMetricsData.apply(this,arguments)},knownFields:function(){return["eventType","eventVersion","impressions","xpViewablePercentage","xpViewableThreshold"]},eventType:function(e){return"impressions"},eventVersion:function(e){return e&&e.eventVersion||3},impressions:function(e){return e?e.impressions:void 0},xpViewablePercentage:function(e){return a.xpViewablePercentage(e)},xpViewableThreshold:function(e){return e&&e.xpViewableThreshold||i.value("impressions.viewableThreshold",o.topic())}};e.exports=s},zbEW:function(e,t,n){e.exports=n("oM8U")},zjkC:function(e,t,n){var r=n("4wVy"),i=n("ndPs"),o=n("7nyt"),a=n("OkBR"),s=n("9zQx"),c={setDelegate:function(e){return r.reflect.attachDelegate(this,e)},metricsData:function(e,t,n){return i.processMetricsData.apply(this,arguments)},knownFields:function(){return["eventType","eventVersion"]},eventType:function(e){return"buyConfirmed"},eventVersion:function(e){return e&&e.eventVersion||1},createClientBuyId:function(){var e=null,t=a.sessionStorageObject().getItem("mtMetricsKit_previousClientBuyId");return e=++t,t||(s.warn("Metrics: buyConfirmed.createClientBuyId: clientBuyId did not exist or was of incorrect type, reset to 1."),e=1),a.sessionStorageObject().setItem("mtMetricsKit_previousClientBuyId",e),e},clientBuyIdQueryParamString:function(e){return"&clientBuyId="+e},metricsBuyParamsString:function(e,t,n,a){var c,u,p=Array.prototype.slice.call(arguments,4),l=o.pageHistory(),f=i.clientId();return Array.isArray(l)?l.length>=2&&(c=l[l.length-2]):s.warn("MetricsKit: metricsBuyParamsString: pageHistory is not an Array"),u={mtApp:i.app(),mtEventTime:Date.now(),mtHardwareFamily:i.hardwareFamily(),mtHardwareModel:i.hardwareModel(),mtHostApp:i.hostApp(),mtHostAppVersion:i.hostAppVersion(),mtOs:i.os(),mtOsBuildNumber:i.osBuildNumber(),mtOsVersion:i.osVersion(),mtPageId:e,mtPageType:t,mtPageContext:n,mtTopic:a||"xp_its_main",mtPrevPage:c,mtRequestId:r.string.requestId(f),mtClientId:f},r.reflect.extend.apply(r.reflect,[u].concat(p)),r.string.paramString(u)},cacheMetricsBuyData:function(e,t){if(2!=arguments.length)s.error("buyConfirmed.cacheMetricsBuyData(): function invoked with incorrect number of parameters. Perhaps you meant to retrieve cached data instead of setting it, which would be a call to uncacheMetricsBuyData(clientBuyId)?");else{var n=JSON.stringify(t);a.sessionStorageObject().setItem("mtMetricsKit_metricsBuyData_for_clientBuyId_"+e,n)}},uncacheMetricsBuyData:function(e){var t=null;if(1!=arguments.length)s.error("buyConfirmed.uncacheMetricsBuyData(): function invoked with incorrect number of parameters. Perhaps you meant to set cached data instead of retrieving it, which would be a call to cacheMetricsBuyData(clientBuyId, metricsBuyData)?");else{var n=a.sessionStorageObject().getItem("mtMetricsKit_metricsBuyData_for_clientBuyId_"+e);n&&(t=JSON.parse(n),a.sessionStorageObject().removeItem("mtMetricsKit_metricsBuyData_for_clientBuyId_"+e))}return t},buyFailureOccurred:function(e){var t=this.uncacheMetricsBuyData(e);t&&(t.detoured=!0,this.cacheMetricsBuyData(e,t))}};e.exports=c}})});